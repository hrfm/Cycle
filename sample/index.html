<html>
<head>
	<script type="text/javascript" src='js/Cycle.js'></script>
	<script type="text/javascript" src='js/jquery-1.8.2.min.js'></script>
	<script type="text/javascript">
		$(function(){

			var btn   = $('#btn'),
				el    = $('#time'),
				el2   = $('#random'),
				rect  = $('#rect'),
				cycle = new hrfm.Cycle();
			
			cycle
				.on('start',function(){
					btn.html('stop');
				})
				.on('stop',function(){
					btn.html('start');
				})
				.on('cycle',function(){
					el.html(cycle.elapsedTime);
				},this)
				.on('cycle',function(){
					el2.html(Math.random());
				},this)
				.on('cycle',function(){
					el2.html(Math.random());
				},this)
				.on('cycle',function(){
					rect.css('left', 100 + 100 * Math.cos( cycle.elapsedTime / 100 ) );
				},this)
			;

			btn.click(function(){
				if(cycle.running){
					cycle.stop();
				}else{
					cycle.start();
				}
			});

		});
	</script>
	<style type="text/css">
		#rect{
			width: 100px;
			height: 100px;
			position: relative;
			background: #000;
		}
	</style>
</head>
<body>
	<div>
		<button id='btn'></button>
	<div>
	<div id='state'></div>
	<div id='time'></div>
	<div id='random'></div>
	<div id='rect'></div>
</body>
</html>